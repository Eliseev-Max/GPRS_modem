# 1 - AT Commands Reference Guide
# 2 - AT-команды. Руководство по использованию AT-команд для разработчиков телекоммуникационного оборудования
# MS - mobile station, мобильная станция
# ME - mobile equipment, мобильное оборудование - мобильные терминалы, поддерживающие GSM
Специальная команда (#SELINT, см. §3.5.2.1.1) была введена для того, чтобы интерфейс AT был очень близок к стандартному.

Существует 2 типа расширенных команд:
	- Команды типа параметра:
		этот тип команд может быть
		"задать" /"установить"/ (чтобы хранить значение или значения для последующего использования)
		"прочитать" (чтобы определить текущее(ие) установленное(ые) значение(ия))
		"протестировано" (чтобы определить диапазоны поддерживаемых значений)
		У каждой из них есть тестовая команда (оканчивающаяся на =?), чтобы вывести информацию о типе субпараметров;
		у них также есть команда на Чтение (оканчивающаяся на ?), чтобы проверить текущие значения субпараметров.
	
	- Команды типа действия:
		этот тип команд может быть "выполнена" или "протестирована"
		"выполнена" - для вызова определенной функции оборудования, которая обычно включает больше,
			чем простое хранение значений для дальнейшего использования
		"протестирована" - 
			(если была выдана команда # SELINT = 0 или # SELINT = 1, см. §3.5.2.1.1),
			если подпараметры связаны с действием, диапазоны значений подпараметров, которые поддерживаются;
			если команда не имеет подпараметров, выдача соответствующей команды Test (завершающая =?) вызывает код результата «ERROR».
			Примечание: выдача команды Read (завершающая?) Вызывает выполнение команды.
			(если была выдана команда # SELINT = 2, см. §3.5.2.1.1)
			реализует ли оборудование команду действия (в этом случае выдача соответствующей команды Test - оканчивающаяся на '=?'
			- возвращает код результата OK), и, если подпараметры связаны с действием, диапазоны поддерживаемых значений подпараметров. 
	Параметры строкового типа могут заключаться в кавычки, а могут и не заключаться - оба варианта валидны.

Командная строка состоит из трёх элементов:
	* префикс
		состоит из символов AT или at
		если необходимо повторить выполнение предыдущей команды:
		A/, a/, AT#/, at#/
	* тело
	* символ конца строки (по умолчанию <CR>, может быть выбран в пользовательских опциях)

Набор проприетарных AT-команд отличается от стандартного тем, что имя каждой из них начинается с символов «@», «#», «$» или «*».
Собственные AT-команды следуют тем же правилам синтаксиса, что и расширенные команды (то есть  AT+CMD1;+CMD2=, ,10<CR>)
ATCMD1<CR> - базовая команда
	+CMD1?<CR> - это команда Чтения для проверки текущих значений подпараметров;
	+CMD1=?<CR> - это тестовая команда для проверки возможных значений подпараметров.

AT&V - вывести текущую конфигурацию модуля

+CGDCONT - Определить PDP контекст (связь)
+CGDCONT: [cid][PDP_type][APN][PDP_addr][d_comp][h_comp][pd1]
	[cid]		Идентификатор PDP-контекста, числовой параметр, указывает на конкретное опоеделение PDP-контекста
	[PDP_type]	тип PDP(Packet Data Protocol), строковый параметр. В нашем случае PDP_type = "IP"
	[APN]		(Access Point Name, имя точки доступа), строковый параметр, в нашем случае "static.beeline.ru"
	[PDP_addr]	строковый параметр, который идентифицирует терминал в адресном пространстве, применимом к PDP
	[d_comp]	числовой параметр, настройка сжатия данных
	[h_comp]	числовой параметр, настройка сжатия заголовков
	[pd1]
	
	AT+CGDCONT=1,"IP","static.beeline.ru"

	Gateway GPRS Support Node (GGSN)

		GGSN (Gateway GPRS Support Node) – шлюзовой узел поддержки GPRS.
		GGSN является аналогом G-MSC для пакетной сети и служит для передачи пакетных данных во внешние сети, такие как Интернет
		для сетей сотовой связи стандартов GSM, UMTS, LTE.
		(http://celnet.ru/GGSN.php)
	PDP (Packet Data Protocol) - 

+CSQ - Уровень сигнала
AT+CSQ: <rssi>, <ber>
	Задаваемые значения:
		<rssi>: (0 = -113 dBm или меньше),
				(1 = -11 dBm),
				(2 до 30 = -109 до 53 dBm),
				(31 = 51 dBm или больше)
				(99 = не известно или нельзя определить)
		<ber>:
				(0...7 = как значение RXQUAL в таблице GSM 05.08)
				(99 = не известно или нельзя определить)
+COPS - выбор оператора

+SCFG Socket Configuration - Команда Set устанавливает параметры конфигурации сокета
(1 c 439)
AT+SCFG=<connId>,<cid>,<pktSz>,<maxTo>,<connTo>,<txTo>
		<connId> - идентификатор соединения сокета
		<cid> - идентификатор контекста PDP
		<pktSz> - размер пакета, который используется стеком TCP/UDP/IP для настройки данных
		<maxTo> - тайм-аут обмена (или тайм-аут неактивности сокета),
				  если за это время не происходит обмена данными, соединение закрывается
				0 -нет тайм-аута
				1...65535 - значение тайм-аута в секундах
				по умолчанию 90 с
		<connTo> - тайм-аут соединения, если мы не можем создать соединение за указанное время,
				   возбуждается ошибка
				10...1200 - значение тайм-аута в сотнях милисекунд
				по умолчанию 600
		<txTo> - тайм-аут настройки данных, после этого периода времени данные отправляются, даже если их размер меньше,
				 чем максимальный размер пакета
			  0 - тайм-аут не установлен
			  1...255 значение тайм-аута в сотнях милисекунд
			  по умолчанию 50
	
+SGACT - Context Activation - Возвращает состояние всех контекстов, которые были определены
		 через команды +CGDCONT или +GSMCONT
(1 с 438)
AT+SGACT=? - команда тестирования сообщает диапазон параметров <cid> <stat>

• «SM»: ADN (телефонная книга SIM)
• «LD»: FDN (фиксированный набор SIM, запрещенная телефонная книга)
• «MC»: MSISDN (SIM собственный номера)
• «ON»: EN (экстренные номера SIM)
• «ME»: LND (комбинированная книга ME и SIM)
• «RC»: MSD (список пропущенных звонков)
• «MT»: MT (телефонная книга мобильного устройства)
• «SN»: SDN (служба набора номера)

+CGREG: (<n>) <stat>[,<lac>,<ci>] - Команда контролирует возврат модемом результирующих кодов +CGREG:
	при n = 1
		возвращается <stat>
	при n = 2
		возвращаются сообщения об изменении статуса регистрации в сети +CGREG
		<stat>[,<lac>, <ci>]
		Значения <lac> и <ci> возвращаются только при <n>=2 и если MT зарегистрирован в сети.

+CGREG: 2,1,"62A8","A2C1"
	<n> = 2			# разрешить возврат добровольных результирующих кодов о регистрации  в  сети
					  содержащих  локальную  информацию  о  сети  +CGREG: <stat>[,<lac>,<ci>]
	<stat> = 1		#  зарегистрирован, своя сеть
	<lac> = "62A8"	# Строчный тип; двухбайтовый код локальной информации от сети в шестнадцатеричном формате.
	<ci> = "A2C1"	# Строчный тип; двухбайтовый ID соты в шестнадцатеричном формате.

+CGREG: 1,"62A8","6E0B"

+CGREG: 1,"62A8","3007"

#SCFGEXT - Socket Configuration Extended - Команда настройки устанавливает расширенные параметры конфигурации сокета
AT#SCFGEXT=<connId>,<srMode>,<recvDataMode>,<keepalive>,[<ListenAutoRsp>,<sendDataMode>]
	<connId> - идентификатор соединения сокета
		1...6
	<srMode> - SRing незапрашиваемый режим
		0 - Normal (default): 
	   SRING: <connId> where <connId> is the socket connection 
		identifier 
		1 – Data amount (количество данных): 
	   SRING: <connId>,<recData> where <recData> is the amount of 
		data received on the socket connection number <connId> 
		2 - Data view (просмотр данных): 
	   SRING: <connId>,<recData>,<data> same as before and <data> is 
		data received displayed following <dataMode> value 
		3 – Data view with UDP datagram informations (просмотр данных с информацией UDP-дейтаграмм): 
	   SRING: <sourceIP>,<sourcePort><connId>,<recData>, 
		<dataLeft>,<data> same as before with <sourceIP>,<sourcePort> and 
		<dataLeft> that means the number of bytes left in the UDP datagram 
	 
	Note: <srMode> value 3 is not available in SW 13.00.xxx
	
	<recvDataMode> - режим просмотра полученных данных в режиме командной строки
					 (AT#SRECV or <srMode> = 2)
				0 - текстовый режим (по умолчанию)
				1 - шестнадцатеричный режим
	<keepalive> - устанавливает значение TCP Keepalive в минутах
			0 - деактивирован (отключен)
			1...240 - включен Keepalive в минутах
	<ListenAutoRsp> - устанавливает режим прослушивания автоответа, влияющий на команды AT # SL и AT # SLUDP 
			0 - деактивирован
			1 - активирован
	<sendDataMode> - режим данных для отправки данных в режиме команд (AT#SSEND)
			0 - data represented as  text (default) 
			1 - data represented as sequence of hexadecimal numbers (from 00 to FF) 
		Каждый октет данных представляет собой шестнадцатеричное число длиной два символа IRA.
		Примечание: эти значения автоматически сохраняются в NVM.
		Примечание. Keepalive доступен только для TCP-соединений.
	Примечание: поведение AT # SL и AT # SLUDP в случае режима автоответа или в случае отсутствия 
	режима автоответа см. В описании двух команд.		

AT#SCFGEXT? - Команда Чтения возвращает текущие значения параметров расширенной конфигурации для всех 6 сокетов в формате
	#SCFGEXT:<connId1>, <srMode1>,<dataMode1>,<keepalive1>,<ListenAutoRsp1>,0<CR><LF>
AT#SCFGEXT=? тестовая команда возвращает диапазон поддерживаемых значений для всех подпараметров.

AT+CGATT - GPRS Attach Or Detach (присоединение или разъединение по GPRS)
	Исполнение команд используется, чтобы соединить терминал по/ разъединить терминал от службы GPRS,
	в зависимости от параметра <state>
	<state> - состояние соединения по GPRS
	
AT+CSQ\r\n - в ответ Вы получите два числа, через запятую.
	Первое число - уровень сигнала от 0 (менее -113 дБм) до 31 (более -51 дБм).
	Второе число - частота появления ошибок от 0 до 7 (GSM 05.08).
	Значение 99 означает что указанный параметр неизвестен или не определяется

AT+COPS?\r\n - получить имя выбранного оператора (в цифровом формате).

AT+COPS=?\r\n - получить список доступных операторов (цифровой и буквенный формат).

AT+CREG?\r\n - получить статус регистрации в сети оператора связи.

Статус регистрации определяет второе число в ответе:

    0 - Не зарегистрирован, не проводится поиск нового оператора.
    1 - Зарегистрирован в домашней сети.
    2 - Не зарегистрирован, проводится поиск нового оператора.
    3 - Регистрация отклонена.
    4 - Статус неизвестен.
    5 - Зарегистрирован в роуминге.

+CNUM: <alpha>,<number>,<type><CR><LF>
AT+CNUM\r\n - получить свой номер телефона

AT+CPAS - Статус активности мобильного оборудования
	0 – готово (возможны команды из TA/TE)
	1 – недоступно (невозможны команды)
	2 – неизвестно
	3 – дозвон (звонок активен)
	4 – в режиме соединения
	5 – в спящем режиме (сокращенный набор функций)


https://www.youtube.com/watch?v=_t69L0kB9kc