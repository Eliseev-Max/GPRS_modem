• MS - mobile station, мобильная станция
• ME - mobile equipment, мобильное оборудование - мобильные терминалы, поддерживающие GSM
• DTE - внешнее приложение

• Gateway GPRS Support Node (GGSN)
GGSN – шлюзовой узел поддержки GPRS (узел межсетевого перехода).
GGSN является аналогом G-MSC для пакетной сети и служит для передачи пакетных данных во внешние сети, такие как Интернет
для сетей сотовой связи стандартов GSM, UMTS, LTE.
(http://celnet.ru/GGSN.php)

• SGSN (Serving GPRS Support Node) , узел обслуживания абонентов GPRS — основной компонент GPRS-системы по реализации всех функций обработки пакетной информации.
SGSN выступает точкой соединения между
										системой базовых станций (BSS),
										сети радиодоступа (RAN)
										и базовой сетью (CN).
SGSN можно назвать аналогом коммутатора MSC для пакетной сети передачи данны (сети GSM).

• PDP Context - набор данных об абоненте, совершившем GPRS Attach, который храниться как на стороне SGSN‘а, так и на стороне термина абонента, в частности в этот набор данных входит профиль, обеспечивающий определенный уровень качества обслуживания абонента – QoS, адрес назначенный абоненту в сети, возможности терминала абонента, некоторые данные о тарификации абонента и т.д.
[http://www.rfcmd.ru/book_09/h10_1]
PDP адрес может быть выделен MS тремя различными способами:
	► оператор домашней сети (HPLMN) выделяет MS постоянный PDP адрес (статический PDP адрес);
	► оператор HPLMN выделяет MS PDP адрес при активации PDP-контекста (динамический PDP адрес в HPLMN);
	► оператор гостевой сети (VPLMN) выделяет MS PDP адрес при активации PDP-контекста (динамический PDP адрес в VPLMN).

Активация PDP-контекста по инициативе сети возможна лишь при использовании статических PDP адресов.

Процедура активации PDP-контента по инициативе MS:

1. MS посылает SGSN запрос на активацию PDP-контекста (Activate PDP Context Request)
	Запрос: [
			 используемый идентификатор точки доступа к сервису сетевого уровня NSAPI,
			 идентификатор транзакции TI,
			 тип PDP (IP или X.25),
			 PDP адрес,
			 имя точки доступа (APN),
			 запрашиваемое качество обслуживания QoS
			 (статический PDP-адрес) - если используется ]
	Пустое поле адреса MS = запрос на выделение динамического PDP адреса
2. Выполнение функций безопасности
3. SGSN сравнивает содержащиеся в посланном MS запросе данные о типе PDP, PDP адресе и APN с подпиской абонента.
3.1 Если данные запроса не соответствуют подписке (обнаружено SGSN), или SGSN не может определить адрес GGSN,
	то SGSN прерывает активацию PDP-контекста.
3.2 Если адрес GGSN может быть определен, то SGSN для запрашиваемого PDP-контекста организует "туннель",
	присваивая ему идентификатор TID (Tunnel Identifier) посредством комбинирования IMSI и NSAPI.
	Если MS запрашивает динамический адрес, то SGSN просит GGSN выделить динамический адрес.
[QoS]: SGSN может ограничить запрашиваемое качество обслуживания (QoS) в зависимости от
		• возможностей,
		• текущей загрузки,
		• подписки абонента.
	SGSN ► посылает ► GGSN запрос на создание PDP-контекста (Create PDP Context Request).
	Содержимое запроса SGSN → GGSN:
		• данные о типе PDP,
		• данные о PDP адресе APN,
		• данные о предоставленном QoS,
		• TID (Tunnel Identifier),
		• MSISDN,
		• Selection Mode
		
	Параметр Selection Mode указывает (| == "или"):
		* было ли выбрано АРN в соответствии с подпиской |
		* MS запросила APN, на которое у нее нет подписки | 
		* АРN было выбрано SGSN
		
	GGSN может использовать параметр Selection Mode для того, чтобы принять/отвергнуть запрос об активации PDP-контекста.

4. SGSN включает NSAPI вместе с адресом GGSN в свой РDР-контекст.
	Если MS ►[запрос]► динамический адрес, то полученный от GGSN PDP адрес также включают в PDP-контекст SGSN.
	На основании предоставленного QoS SGSN:
		• выбирает приоритет для передачи по радиоканалу (Radio Priority)
		• возвращает MS ответ на сделанный ею запрос (Activate PDP Context Accept)
	Сообщение содержит данные о
								типе PDP,
								PDP адресе,
								TI,
								предоставленном QoS,
								приоритете для передачи по радиоканалу.
	
	После этого SGSN может выполнять маршрутизацию пакетов между GGSN и MS и начать учет для начисления оплаты.

Если 
	процедура активации PDP-контекста оканчивается неудачей
		или
	SGSN возвращает MS сообщение о прерывании активации (Activate PDP Context Reject),
		то
	MS может попробовать еще раз выполнить активацию того же APN, но не более установленного числа попыток.

Деактивация PDP-контекста может быть выполнена по инициативе MS, SGSN и GGSN.
В процессе выполнения процедуры GPRS detach, все PDP-контексты данной MS деактивируют без сообщения об этом MS.
-----------------------------------------------------------------------------------------------------------------------------
Существует 2 типа расширенных команд:
	- Команды типа параметра:
		этот тип команд может быть
		"задать" /"установить"/ (чтобы хранить значение или значения для последующего использования)
		"прочитать" (чтобы определить текущее(ие) установленное(ые) значение(ия))
		"протестировано" (чтобы определить диапазоны поддерживаемых значений)
		У каждой из них есть тестовая команда (оканчивающаяся на =?), чтобы вывести информацию о типе субпараметров;
		у них также есть команда на Чтение (оканчивающаяся на ?), чтобы проверить текущие значения субпараметров.
	
	- Команды типа действия:
		этот тип команд может быть "выполнена" или "протестирована"
		"выполнена" - для вызова определенной функции оборудования, которая обычно включает больше,
			чем простое хранение значений для дальнейшего использования
		"протестирована" - 
			(если была выдана команда # SELINT = 0 или # SELINT = 1, см. §3.5.2.1.1),
			если подпараметры связаны с действием, диапазоны значений подпараметров, которые поддерживаются;
			если команда не имеет подпараметров, выдача соответствующей команды Test (завершающая =?) вызывает код результата «ERROR».
			Примечание: выдача команды Read (завершающая?) Вызывает выполнение команды.
			(если была выдана команда # SELINT = 2, см. §3.5.2.1.1)
			реализует ли оборудование команду действия (в этом случае выдача соответствующей команды Test - оканчивающаяся на '=?'
			- возвращает код результата OK), и, если подпараметры связаны с действием, диапазоны поддерживаемых значений подпараметров. 
	Параметры строкового типа могут заключаться в кавычки, а могут и не заключаться - оба варианта валидны.

Командная строка состоит из трёх элементов:
	* префикс
		состоит из символов AT или at
		если необходимо повторить выполнение предыдущей команды:
		A/, a/, AT#/, at#/
	* тело
	* символ конца строки (по умолчанию <CR>, может быть выбран в пользовательских опциях)

Набор проприетарных AT-команд отличается от стандартного тем, что имя каждой из них начинается с символов «@», «#», «$» или «*».
Собственные AT-команды следуют тем же правилам синтаксиса, что и расширенные команды (то есть  AT+CMD1;+CMD2=, ,10<CR>)
ATCMD1<CR> - базовая команда
	+CMD1?<CR> - это команда Чтения для проверки текущих значений подпараметров;
	+CMD1=?<CR> - это тестовая команда для проверки возможных значений подпараметров.